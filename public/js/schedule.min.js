$(document).ready(function(){function e(e){var d=[];return d.Mon="monday",d.Tue="tuesday",d.Wed="wednesday",d.Thu="thursday",d.Fri="friday",d.Sat="saturday",d.Sun="sunday",d[e.toString().split(" ")[0]]}var d=new Date,a=[];a.monday=0,a.tuesday=1,a.wednesday=2,a.thursday=3,a.friday=4,a.saturday=5,a.sunday=6,$(".episode").each(function(a,t){var n=new Date($("#"+t.id+" .air-date").text()),r=n.getFullYear()-d.getFullYear(),i=n.getMonth()-d.getMonth(),s=n.getDate()-d.getDate();0===r&&0===i&&s<7&&s>=0?$("#"+t.id).appendTo("#"+e(n)):$("#"+t.id).appendTo("#later")});var t=a[e(d)];$(".day-of-week").each(function(e,d){var n=a[d.id];$("#"+d.id).is(":empty")||$("#"+d.id).prepend('<span class="schedule-header">'+d.id.charAt(0).toUpperCase()+d.id.slice(1)+"</span>"),n>=t&&t>0&&$("#"+d.id).insertBefore("#monday")}),$("#later").is(":empty")||$("#later").prepend('<span class="schedule-header">Later on</span>'),function(e){return $($(e).toArray().sort(function(e,d){return new Date(e.childNodes[1].childNodes[3].childNodes[1].childNodes[3].innerText)-new Date(d.childNodes[1].childNodes[3].childNodes[1].childNodes[3].innerText)}))}("#later .episode").appendTo("#later")});